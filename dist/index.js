"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const auth_1 = require("./auth");
const globals_1 = require("./globals");
const authorized_1 = require("./routes/authorized");
const base64_decode_1 = require("./routes/base64.decode");
const base64_encode_1 = require("./routes/base64.encode");
const binary_decode_1 = require("./routes/binary.decode");
const binary_encode_1 = require("./routes/binary.encode");
const endpoints_1 = require("./routes/endpoints");
const image_color_1 = require("./routes/image.color");
const image_flop_1 = require("./routes/image.flop");
const image_resize_1 = require("./routes/image.resize");
const image_rotate_1 = require("./routes/image.rotate");
const image_spin_1 = require("./routes/image.spin");
const origin_1 = require("./routes/origin");
const tag_delete_1 = require("./routes/tag.delete");
const tag_get_1 = require("./routes/tag.get");
const tag_inspect_1 = require("./routes/tag.inspect");
const tag_list_1 = require("./routes/tag.list");
const tag_post_1 = require("./routes/tag.post");
const tag_search_1 = require("./routes/tag.search");
const todo_delete_1 = require("./routes/todo.delete");
const todo_get_1 = require("./routes/todo.get");
const todo_list_1 = require("./routes/todo.list");
const todo_post_1 = require("./routes/todo.post");
const todo_put_1 = require("./routes/todo.put");
const todo_search_1 = require("./routes/todo.search");
globals_1.Sarah.use((req, res, next) => {
    console.log(req.params);
    res.contentType("application/json");
    if (globals_1.NeedsNoAuth.includes(req.path)) {
        next();
        return;
    }
    (0, auth_1.auth)(req, res, next);
});
globals_1.Sarah.get("/authorized", authorized_1.authorized);
globals_1.Sarah.get("/origin", origin_1.origin);
globals_1.Sarah.get("/endpoints", endpoints_1.endpoints);
globals_1.Sarah.get("/base64/encode", base64_encode_1.base64Encode);
globals_1.Sarah.get("/base64/decode", base64_decode_1.base64Decode);
globals_1.Sarah.get("/binary/encode", binary_encode_1.binaryEncode);
globals_1.Sarah.get("/binary/decode", binary_decode_1.binaryDecode);
globals_1.Sarah.get("/tags/list", tag_list_1.tagList);
globals_1.Sarah.get("/tags/inspect", tag_inspect_1.tagInspect);
globals_1.Sarah.get("/tags/:key", tag_get_1.tagGet);
globals_1.Sarah.post("/tags/:key", tag_post_1.tagPost);
globals_1.Sarah.delete("/tags/:key", tag_delete_1.tagDelete);
globals_1.Sarah.get("/tags/search/:query", tag_search_1.tagSearch);
globals_1.Sarah.get("/image/mirror", image_flop_1.imageFlop);
globals_1.Sarah.get("/image/spin", image_spin_1.imageSpin);
globals_1.Sarah.get("/image/color/:size/:color", image_color_1.imageColor);
globals_1.Sarah.get("/image/resize/:size", image_resize_1.imageResize);
globals_1.Sarah.get("/image/rotate/:deg", image_rotate_1.imageRotate);
globals_1.Sarah.get("/todos/:userId", todo_list_1.todoList);
globals_1.Sarah.get("/todos/:userId/:id", todo_get_1.todoGet);
globals_1.Sarah.post("/todos/:userId", todo_post_1.todoPost);
globals_1.Sarah.delete("/todos/:userId/:id", todo_delete_1.todoDelete);
globals_1.Sarah.put("/todos/:userId/:id", todo_put_1.todoPut);
globals_1.Sarah.get("/todos/search/:userId/:query", todo_search_1.todoSearch);
globals_1.Sarah.listen(3000);
